project (tdlua)
cmake_minimum_required (VERSION 3.1)
find_package(Td 1.1.1 REQUIRED)
if(NOT LUA_INCLUDE_DIR)
find_package(Lua REQUIRED)
endif()
include_directories(${LUA_INCLUDE_DIR})
if(NOT RAPIDJSON_INCLUDE_DIR)
find_package(RapidJSON REQUIRED)
endif()
include_directories(${RAPIDJSON_INCLUDE_DIR})
add_library (tdlua SHARED tdlua.cpp luajson.cpp tdlua.h)
set_target_properties(tdlua PROPERTIES PREFIX "")
target_link_libraries (tdlua PRIVATE Td::TdJsonStatic)
set_property (TARGET tdlua PROPERTY CXX_STANDARD 11)
